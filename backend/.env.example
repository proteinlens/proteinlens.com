# Backend Environment Variables
# ProteinLens - Phase 3 MVP Configuration
# Copy this file to .env and fill in your actual values

# Database Connection
DATABASE_URL="postgresql://username:password@localhost:5432/proteinlens"

# Azure Storage (Managed Identity handles authentication)
AZURE_STORAGE_ACCOUNT_NAME=your-storage-account-name
BLOB_CONTAINER_NAME=meals

# Azure AI Foundry (GPT-5.1 Vision)
AI_FOUNDRY_ENDPOINT=https://your-foundry-endpoint.azure.com
AI_MODEL_DEPLOYMENT=gpt-5.1-vision
AI_API_KEY=your-ai-api-key-from-keyvault

# Optional: Azure Tenant ID (for Managed Identity)
# AZURE_TENANT_ID=your-tenant-id

# ===========================================
# Stripe Billing (Feature 002 - SaaS Billing)
# ===========================================
# Get these from https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Create prices in Stripe Dashboard and copy IDs here
# Monthly: €9.99, Annual: €79.00
STRIPE_PRICE_MONTHLY=price_your_monthly_price_id
STRIPE_PRICE_ANNUAL=price_your_annual_price_id

# Application URL (for Stripe redirects after checkout/portal)
APP_URL=http://localhost:5173

# ===========================================
# User Signup (Feature 010)
# ===========================================
# hCaptcha - Get keys from https://dashboard.hcaptcha.com
HCAPTCHA_SECRET=0x0000000000000000000000000000000000000000

# Document versions for consent tracking
TOS_VERSION=1.0.0
PRIVACY_VERSION=1.0.0

# ===========================================
# Self-Managed Authentication (JWT)
# ===========================================
# JWT secret for signing tokens (generate a secure random string, e.g., openssl rand -hex 64)
JWT_SECRET=your-super-secret-jwt-key-min-32-chars

# JWT issuer and audience
JWT_ISSUER=https://proteinlens.com
JWT_AUDIENCE=proteinlens-api

# Frontend URL for email links and OAuth callbacks
FRONTEND_URL=http://localhost:5173

# API Base URL (used for OAuth callback URLs)
API_BASE_URL=http://localhost:7071

# ===========================================
# OAuth Providers (Optional Social Login)
# ===========================================
# Google OAuth - Get from https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth - Get from https://portal.azure.com > App registrations
MICROSOFT_CLIENT_ID=your-microsoft-app-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-app-client-secret

# ===========================================
# Email Service (Feature 013 - Azure Communication Services)
# ===========================================
# For development, emails are logged to console
# For production, use Azure Communication Services with custom domain

# Email mode: 'console' (dev) or 'acs' (production)
EMAIL_SERVICE=console

# Azure Communication Services (production)
# ACS_EMAIL_CONNECTION_STRING=endpoint=https://your-acs.communication.azure.com/;accesskey=...
# ACS_EMAIL_SENDER=noreply@proteinlens.com
# ACS_EMAIL_SENDER_NAME=ProteinLens

# ===========================================
# Slack Notifications (Feature 014)
# ===========================================
# Slack webhook URL for auth event notifications (signup, password reset, email verified)
# Create at: https://api.slack.com/apps > Your App > Incoming Webhooks
# If not set, Slack notifications are disabled
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
